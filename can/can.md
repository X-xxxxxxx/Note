# [Can总线通信](https://zhuanlan.zhihu.com/p/677658199)

## 历史

 <!-- ![图片](https://picx.zhimg.com/70/v2-95d5ac87546b078e4ac6d18ae7da9ab9_1440w.avis?source=172ae18b&biz_tag=Post, "car") -->
 * 随着设备功能越来越多，电子装置之间的通讯越来越复杂，于是设计了一个单一的网络总线，所有外围器件挂接在该总线上。
 * can是一种多主方式的串行通讯总线

 * 优点主要有
    * 有高的位速率
    * 高抗电磁干扰性
    * 而且能够检测出产生的任何错误
    * 高实时性
    * 高性能，可靠性
## 总线结构

分为**开环**和**闭环**两种形式
* 闭环结构：总线两端各连接一个**120欧**的电阻，两根信号线形成回路。这种CAN总线网络由ISO 11898标准定义，是高速、短距离的CAN网络，通信速率为125kbit/s到1Mbit/s。在1Mbit/s通讯速率时，总线长度最长达40m
* 开环结构：开环结构的CAN总线网络，两根信号线独立，各自串联一个2.2k欧的电阻。这种CAN总线网络由ISO11519-2标准定义，是低速、远距离的CAN网络，通信速率最高125kbit/s。在40kbit/s速率时，总线最长距离可达1000m

can是一种**异步通信**方式，而**SPI**和**IIC**是和时钟信号同步的同步通信方式

使用双绞线传输**差分信号**(抗干扰能力强)，同样使用差分信号传输的还有**RS485**网络

逻辑0对应显性电平， 逻辑1对应隐性电平

CAN总线上的一个终端设备称为一个节点（Node）
一个CAN节点的硬件部分一般由**CAN控制器**和**CAN收发器**两个部分组成。
CAN控制器负责CAN总线的逻辑控制，实现CAN传输协议；
CAN收发器主要负责MCU逻辑电平与CAN总线电平之间的转换

